<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <title>Encriptador</title>
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400&display=swap" rel="stylesheet">
    </head>
    <body>
        <header>
            <img src="imagenes/Logo.png" alt="Logo de alura" class="logo">
        </header>
        <main>
            <section class="section-1">
                <textarea id="textarea" class="text-area" cols="40" rows="12" placeholder="Ingrese el texto aqui"></textarea>
                <div>
                    <h6 class="informacion">Solo letras minúsculas y sin acentos</h6>
                </div>
                <div class="botones">
                    <button class="btn-encriptar">Encriptar</button>
                    <button class="btn-desencriptar">Desencriptar</button>
                </div>
            </section>
            <section>
                <div class="muñeco">
                    <div id="texto1" class="texto1"></div>
                    <div id="cajaremove">
                        <img src="imagenes/Muñeco.jpg" alt="muñeco">
                        <h2>Ningún mensaje fue encontrado</h2>
                        <p>ingresa el texto que desees encriptar o desencriptar.</p>
                    </div>
                    <button id="copiar" class="copiar">Copiar</button>
                    
                </div>
            </section>
        </main>
    </body>
</html>

<script>

    //set-ready//
    var textarea = "";
    var result = "";
    var cajaremove = "";

    function ocultar(){
    document.getElementById("copiar").style.display = "none";
    }

    ocultar();

    function mostrar(){
        document.getElementById("copiar").style.display = "block"
    }

    function escribir(){
        document.getElementById("texto1").innerHTML = result;
    }
    function clear(){
        cajaremove = document.getElementById("cajaremove");
        cajaremove.remove();

    }

    //encriptar// 
    function encriptar(){

        textarea = document.getElementById("textarea").value;

        result = textarea.replaceAll("e","enter").replaceAll("a","ai").replaceAll("i","imes").replaceAll("o","ober").replaceAll("u","ufat");
        console.log(result);

        escribir();
        clear();
        mostrar();
    }

    var button = document.querySelector(".btn-encriptar");
    button.onclick = encriptar;

    //desencriptar//

    function desencriptar(){
        textarea = document.getElementById("textarea").value;

        result = textarea.replaceAll("imes","i").replaceAll("ober","o").replaceAll("enter","e").replaceAll("ai","a").replaceAll("ufat","u");
        console.log(result);

        escribir();
        clear();
        mostrar();
    }

    var button2 = document.querySelector(".btn-desencriptar");
    button2.onclick = desencriptar;

    //copiar//

    function copyText(){
        navigator.permissions.query({name: "clipboard-write"}).then((result) => {
        if (result.state === "granted" || result.state === "prompt") {
            let copy = document.getElementById("texto1");
            navigator.clipboard.writeText(copy.value);
            alert("texto copiado");        }
        });

       

        
    }

    
    var button3 = document.querySelector(".copiar");
    button3.onclick = copyText;




</script>